def sudoku_check(grid):
    for row in range(len(grid)):
        for col in range(len(grid)):
            if grid[row][col] > len(grid):
                return False

    for row in grid:
        if sorted(list(set(row))) != sorted(row):
            return False

    cols = []
    for col in range(len(grid)):
        for row in grid:
            cols += [row[col]]
        # print(cols)
        if sorted(list(set(cols))) != sorted(cols):
            return False
        cols = []

    h, h1, u, u1 = 3, 0, 3, 0

    while h < 10:
        while u < 10:
            sudk_3x3s = []
            sudk_3x3 = []
            for row in grid[h1:h]:
                sudk_3x3 += row[u1:u:]
            sudk_3x3s += sudk_3x3
            u += 3
            u1 += 3
            if sorted(sudk_3x3s) != list(range(1, 10)):
                return False
        h += 3
        h1 += 3
        u, u1 = 3, 0

    return True


grid1 = [
    [1, 3, 2, 5, 4, 6, 9, 8, 7],
    [4, 6, 5, 8, 7, 9, 3, 2, 1],
    [7, 9, 8, 2, 1, 3, 6, 5, 4],
    [9, 2, 1, 4, 3, 5, 8, 7, 6],
    [3, 5, 4, 7, 6, 8, 2, 1, 9],
    [6, 8, 7, 1, 9, 2, 5, 4, 3],
    [5, 7, 6, 9, 8, 1, 4, 3, 2],
    [2, 4, 3, 6, 5, 7, 1, 9, 8],
    [8, 1, 9, 3, 2, 4, 7, 6, 5]

], [

    [1, 3, 2, 5, 4, 6, 9, 2, 7],
    [4, 6, 5, 8, 7, 9, 3, 8, 1],
    [7, 9, 8, 2, 1, 3, 6, 5, 4],
    [9, 2, 1, 4, 3, 5, 8, 7, 6],
    [3, 5, 4, 7, 6, 8, 2, 1, 9],
    [6, 8, 7, 1, 9, 2, 5, 4, 3],
    [5, 7, 6, 9, 8, 1, 4, 3, 2],
    [2, 4, 3, 6, 5, 7, 1, 9, 8],
    [8, 1, 9, 3, 2, 4, 7, 6, 5]

], [
    [1, 2, 3, 4, 5, 6, 7, 8, 9],
    [4, 5, 6, 7, 8, 9, 1, 2, 3],
    [7, 8, 9, 1, 2, 3, 4, 5, 6],
    [2, 3, 4, 5, 6, 7, 8, 9, 1],
    [3, 4, 5, 6, 7, 8, 9, 1, 2],
    [5, 6, 7, 8, 9, 1, 2, 3, 4],
    [6, 7, 8, 9, 1, 2, 3, 4, 5],
    [8, 9, 1, 2, 3, 4, 5, 6, 7],
    [9, 1, 2, 3, 4, 5, 6, 7, 8]
], [
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5],
    [5, 5, 5, 5, 5, 5, 5, 5, 5]
]
for _ in grid1:
    print(sudoku_check(_))
